(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9401],{2529:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(1847).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},2559:(e,s,r)=>{"use strict";r.d(s,{Fc:()=>c,TN:()=>l});var t=r(5155),a=r(2115),n=r(2885),d=r(5016);let i=(0,n.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),c=a.forwardRef(({className:e,variant:s,...r},a)=>(0,t.jsx)("div",{ref:a,role:"alert",className:(0,d.cn)(i({variant:s}),e),...r}));c.displayName="Alert",a.forwardRef(({className:e,...s},r)=>(0,t.jsx)("h5",{ref:r,className:(0,d.cn)("mb-1 font-medium leading-none tracking-tight",e),...s})).displayName="AlertTitle";let l=a.forwardRef(({className:e,...s},r)=>(0,t.jsx)("div",{ref:r,className:(0,d.cn)("text-sm [&_p]:leading-relaxed",e),...s}));l.displayName="AlertDescription"},3209:(e,s,r)=>{"use strict";r.d(s,{BT:()=>l,Wu:()=>o,ZB:()=>c,Zp:()=>d,aR:()=>i});var t=r(5155),a=r(2115),n=r(5016);let d=a.forwardRef(({className:e,...s},r)=>(0,t.jsx)("div",{ref:r,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));d.displayName="Card";let i=a.forwardRef(({className:e,...s},r)=>(0,t.jsx)("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...s}));i.displayName="CardHeader";let c=a.forwardRef(({className:e,...s},r)=>(0,t.jsx)("h3",{ref:r,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));c.displayName="CardTitle";let l=a.forwardRef(({className:e,...s},r)=>(0,t.jsx)("p",{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",e),...s}));l.displayName="CardDescription";let o=a.forwardRef(({className:e,...s},r)=>(0,t.jsx)("div",{ref:r,className:(0,n.cn)("p-6 pt-0",e),...s}));o.displayName="CardContent",a.forwardRef(({className:e,...s},r)=>(0,t.jsx)("div",{ref:r,className:(0,n.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter"},5016:(e,s,r)=>{"use strict";r.d(s,{cn:()=>n});var t=r(2821),a=r(5889);function n(...e){return(0,a.QP)((0,t.$)(e))}},5299:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(1847).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},5710:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(1847).A)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]])},6053:(e,s,r)=>{"use strict";r.d(s,{DatabaseTest:()=>m});var t=r(5155),a=r(2115),n=r(7003),d=r(3209),i=r(2559),c=r(7812),l=r(2529),o=r(8874),x=r(5710),u=r(5299);function m(){let[e,s]=(0,a.useState)(!1),[r,m]=(0,a.useState)(null),[f,h]=(0,a.useState)(null),g=async()=>{s(!0),h(null),m(null);try{let e=await fetch("/api/test-db",{method:"GET"}),s=await e.json();if(!e.ok)throw Error(s.error||"Erro ao executar testes");m(s.data)}catch(e){h(e.message||"Erro interno"),console.error("Erro nos testes:",e)}finally{s(!1)}},p=e=>e?(0,t.jsx)(l.A,{className:"h-4 w-4 text-green-500"}):(0,t.jsx)(o.A,{className:"h-4 w-4 text-red-500"}),v=e=>(0,t.jsx)(c.E,{variant:e?"secondary":"destructive",children:e?"✓ OK":"✗ ERRO"});return(0,t.jsxs)(d.Zp,{className:"w-full max-w-4xl",children:[(0,t.jsx)(d.aR,{children:(0,t.jsxs)(d.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(x.A,{className:"h-5 w-5"}),"Teste de Conectividade do Banco de Dados"]})}),(0,t.jsxs)(d.Wu,{className:"space-y-4",children:[(0,t.jsx)(n.$,{onClick:g,disabled:e,className:"w-full",children:e?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.A,{className:"h-4 w-4 mr-2 animate-spin"}),"Executando Testes..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"Executar Testes de Conectividade"]})}),f&&(0,t.jsx)(i.Fc,{variant:"destructive",children:(0,t.jsx)(i.TN,{children:f})}),r&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)(d.Zp,{children:[(0,t.jsx)(d.aR,{className:"pb-3",children:(0,t.jsx)(d.ZB,{className:"text-sm",children:"Informa\xe7\xf5es da Conex\xe3o"})}),(0,t.jsxs)(d.Wu,{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("strong",{children:"URL:"})," ",r.connectionInfo.url]}),(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("strong",{children:"Project ID:"})," ",r.connectionInfo.projectId]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("strong",{className:"text-sm",children:"Admin Client:"}),v(r.hasAdmin)]})]})]}),(0,t.jsxs)(d.Zp,{children:[(0,t.jsx)(d.aR,{className:"pb-3",children:(0,t.jsx)(d.ZB,{className:"text-sm",children:"Resumo dos Testes"})}),(0,t.jsx)(d.Wu,{children:(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:Object.entries(r.tests).map(([e,s])=>(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[p(s.success),(0,t.jsx)("span",{className:"text-sm capitalize",children:e})]},e))})})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Detalhes dos Testes"}),Object.entries(r.tests).map(([e,s])=>(0,t.jsxs)(d.Zp,{className:s.success?"border-green-200":"border-red-200",children:[(0,t.jsx)(d.aR,{className:"pb-3",children:(0,t.jsxs)(d.ZB,{className:"flex items-center justify-between text-sm",children:[(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[p(s.success),e.replace(/([A-Z])/g," $1").trim()]}),v(s.success)]})}),(0,t.jsx)(d.Wu,{children:(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[void 0!==s.count&&(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Registros encontrados:"})," ",s.count]}),s.error&&(0,t.jsxs)("div",{className:"text-red-600",children:[(0,t.jsx)("strong",{children:"Erro:"})," ",s.error]}),s.latestRecord&&(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"\xdaltimo registro:"}),(0,t.jsx)("pre",{className:"mt-1 p-2 bg-gray-100 rounded text-xs overflow-auto",children:JSON.stringify(s.latestRecord,null,2)})]})]})})]},e))]})]})]})]})}},6561:(e,s,r)=>{Promise.resolve().then(r.bind(r,6053))},7003:(e,s,r)=>{"use strict";r.d(s,{$:()=>l,r:()=>c});var t=r(5155),a=r(2115),n=r(2467),d=r(2885),i=r(5016);let c=(0,d.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=a.forwardRef(({className:e,variant:s,size:r,asChild:a=!1,...d},l)=>{let o=a?n.DX:"button";return(0,t.jsx)(o,{className:(0,i.cn)(c({variant:s,size:r,className:e})),ref:l,...d})});l.displayName="Button"},7812:(e,s,r)=>{"use strict";r.d(s,{E:()=>i});var t=r(5155);r(2115);var a=r(2885),n=r(5016);let d=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i({className:e,variant:s,...r}){return(0,t.jsx)("div",{className:(0,n.cn)(d({variant:s}),e),...r})}},8874:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(1847).A)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])}},e=>{e.O(0,[7925,8441,1255,7358],()=>e(e.s=6561)),_N_E=e.O()}]);